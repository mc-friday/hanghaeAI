# [6주차] 심화과제: LangChain과 Streamlit으로 자신만의 LLM 서비스 구현

## 📌 과제 목표

**Streamlit 기반 코드 리뷰 어플리케이션**으로, 사용자가 입력한 코드를 분석하여 **프로그래밍 언어 감지, 코드 리뷰, 품질 점수 평가 및 개선 코드 제공**하는 기능을 제공합니다. 또한, **LangChain, RAG 및 GPT-4-mini**를 활용하여 코드 리뷰 정확도를 향상시킵니다.

## 🛠 주요 기능

✅ **프로그래밍 언어 자동 감지**  
✅ **GPT-4-mini 기반 코드 리뷰 및 개선 코드 제공**  
✅ **코드 품질 점수(1~100) 부여**  
✅ **LangChain + RAG + Agent 활용하여 리뷰 정확도 향상**  
✅ **리뷰 결과를 벡터DB(Vector Database)에 저장하여 관리**  
✅ **UI에서 코드 분석 중 상태 표시 및 결과 출력**  

## 🔧 구현 방식

### 📌 **1. Streamlit 기반 UI 개발**
- `st.text_area()`를 사용하여 코드 입력 필드 제공
- `st.button()`을 통해 코드 리뷰 시작 버튼 제공
- 리뷰 진행 중에는 "코드 분석 중..." 상태 메시지 표시
- 리뷰 완료 후 코드 품질 점수, 코드 리뷰 피드백 및 개선된 코드 출력

### 📌 **2. 프로그래밍 언어 감지**
- `language_detector.py`에서 사용자의 코드로부터 프로그래밍 언어를 감지
- `detect_language()` 함수 활용

### 📌 **3. GPT-4-mini 기반 코드 리뷰 및 개선 코드 제공**
- `review_model.py`에서 `ChatOpenAI` API를 호출하여 코드 리뷰 수행
- LangChain과 RAG 기반 검색을 활용하여 유사 코드 검색 후 피드백 제공
- 개선된 코드 및 품질 점수(1~100) 제공

### 📌 **4. 벡터DB(Vector Database) 저장**
- `vector_db.py`를 통해 리뷰된 코드 및 결과를 벡터DB에 저장
- 유사 코드 검색(RAG)에 활용하여 더욱 정교한 코드 리뷰 가능

### 📌 **5. 코드 실행 시간 로깅**
- `utils.py`에서 실행 시간을 측정하고 로그를 남겨 성능 모니터링
- 주요 함수 호출 시 실행 시작과 종료 시간을 기록하여 성능 분석 가능

## 🚀 실행 방법

### 1️⃣ **환경 설정**
```sh
# 필요한 패키지 설치
pip install -r requirements.txt
```

### 2️⃣ **.env 파일 설정**
`.env` 파일을 생성하고 OpenAI API 키를 입력해야 합니다.
```sh
OPENAI_API_KEY=your_openai_api_key_here
```

### 3️⃣ **애플리케이션 실행**
```sh
streamlit run app.py
```

## 🎥 실행 화면

### 📌 **1. 코드 리뷰 실행 전**
사용자가 코드 입력 창에 리뷰할 함수를 입력하고 "코드 리뷰 시작" 버튼을 클릭합니다.

### 📌 **2. 코드 분석 중**
"코드 분석 중..." 메시지가 표시되며, 코드 리뷰가 진행됩니다.

### 📌 **3. 코드 리뷰 결과 출력**
- **감지된 프로그래밍 언어**
- **코드 품질 점수 (1~100)**
- **코드 리뷰 피드백 (문제점, 개선 방안 포함)**
- **개선된 코드 제공**

### 📌 **4. 리뷰 결과 저장**
리뷰 결과가 벡터DB에 저장되며, 향후 유사 코드 검색에 활용됩니다.

이와 같은 방식으로 코드 품질 향상을 위한 지속적인 리뷰 및 분석이 가능합니다. 🚀


<img src="week6-2.gifH" width="700" height="800"/>


